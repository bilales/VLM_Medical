README.md: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 21.0/21.0 [00:00<?, ?B/s]
C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\huggingface_hub\file_download.py:143: UserWarning: `huggingface_hub` cache-system uses symlinks by default to efficiently store duplicated files but your machine does not support them in C:\Users\bilal\.cache\huggingface\hub\datasets--rbojja--medical-vqa. Caching files will still work but in a degraded version that might require more space on your disk. This warning can be disabled by setting the `HF_HUB_DISABLE_SYMLINKS_WARNING` environment variable. For more details, see https://huggingface.co/docs/huggingface_hub/how-to-cache#limitations.
To support symlinks on Windows, you either need to activate Developer Mode or to run Python as an administrator. In order to activate developer mode, see this article: https://docs.microsoft.com/en-us/windows/apps/get-started/enable-your-device-for-development
  warnings.warn(message)
dataset.json: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 25.0M/25.0M [00:02<00:00, 8.78MB/s]
Generating train split: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 14056/14056 [00:00<00:00, 50437.63 examples/s]
Map (num_proc=4):   0%|                                                                                                                                                                         | 0/14056 [00:08<?, ? examples/s]
multiprocess.pool.RemoteTraceback:
"""
Traceback (most recent call last):
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\multiprocess\pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\utils\py_utils.py", line 688, in _write_generator_to_queue
    for i, result in enumerate(func(**kwargs)):
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\arrow_dataset.py", line 3501, in _map_single
    for i, example in iter_outputs(shard_iterable):
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\arrow_dataset.py", line 3475, in iter_outputs
    yield i, apply_function(example, i, offset=offset)
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\arrow_dataset.py", line 3398, in apply_function
    processed_inputs = function(*fn_args, *additional_args, **fn_kwargs)
  File "C:\Users\bilal\Documents\VLM_Medical\train.py", line 23, in format_dataset
    return {"text": f"Question: {example['question']}\nAnswer: {example['answer']}"}
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\formatting\formatting.py", line 278, in __getitem__
    value = self.data[key]
KeyError: 'question'
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\bilal\Documents\VLM_Medical\train.py", line 105, in <module>
    main()
  File "C:\Users\bilal\Documents\VLM_Medical\train.py", line 31, in main
    dataset = dataset.map(format_dataset, num_proc=4)
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\arrow_dataset.py", line 557, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\arrow_dataset.py", line 3171, in map
    for rank, done, content in iflatmap_unordered(
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\utils\py_utils.py", line 728, in iflatmap_unordered
    [async_result.get(timeout=0.05) for async_result in async_results]
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\datasets\utils\py_utils.py", line 728, in <listcomp>
    [async_result.get(timeout=0.05) for async_result in async_results]
  File "C:\Users\bilal\Documents\VLM_Medical\.venv\lib\site-packages\multiprocess\pool.py", line 774, in get
    raise self._value
KeyError: 'question'
